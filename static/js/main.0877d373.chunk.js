(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/top-bg.ab51426f.jpg"},,,,,,,,,,function(e,t,a){e.exports=a(48)},,,,,function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(23),r=a.n(s),o=(a(32),a(3)),c=a(4),l=a(6),u=a(5),m=a(1),d=a(7),h=a(2),p=a(12),v=(a(33),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={token:"",userData:{}},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(b.Provider,{value:{state:this.state,changeToken:function(t){return e.setState({token:t})},setUserData:function(t){return e.setState({userData:t})}}},this.props.children)}}]),t}(n.Component)),b=i.a.createContext(),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={userdata:{},search:"",url:""},a.onSearchChange=a.onSearchChange.bind(Object(m.a)(a)),a.change=a.change.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onSearchChange",value:function(e){this.setState({search:e.target.value})}},{key:"change",value:function(){this.setState({url:"/search/"+this.state.search})}},{key:"componentDidMount",value:function(){this.setState({userdata:this.context.state.userData}),this.props.search&&this.setState({search:this.props.search}),console.log(this.context.state.userData)}},{key:"render",value:function(){var e=i.a.createElement("img",{id:"profileico",src:"/images/profile.png",alt:""});return i.a.createElement("div",{className:"wrapper"},""!==this.state.url?i.a.createElement(p.a,{to:this.state.url}):null,i.a.createElement("div",{className:"top-text"},i.a.createElement("div",{className:"grid-item"},i.a.createElement("h1",{id:"title"},i.a.createElement(h.b,{to:"/",style:{textDecoration:"none",color:"white"}},"EeeErr"))),i.a.createElement("div",{className:"grid-item"},i.a.createElement("div",{id:"search-bar"},i.a.createElement("input",{id:"search-bar-input",value:this.state.search,onChange:this.onSearchChange,type:"search"}),i.a.createElement("button",{onClick:this.change,id:"search-bar-button"},"search"))),i.a.createElement("div",{className:"grid-item"},i.a.createElement(h.b,{to:"/upload"},i.a.createElement("img",{id:"uploadico",src:"../images/upload.png",alt:""}))),i.a.createElement("div",{className:"grid-item"},i.a.createElement(h.b,{to:"/profile/"+this.state.userdata.name},e))))}}]),t}(n.Component),E=f;f.contextType=b;a(39);var g=function(e){function t(){return Object(o.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"wrapper-footer"},i.a.createElement("center",null,i.a.createElement("footer",null,"Copyright \xa9 EeeErr 2020 All Rights Reserved")))}}]),t}(n.Component),k=a(14),y=function(e){var t=Object(n.useState)(""),a=Object(k.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)(""),c=Object(k.a)(o,2),l=c[0];c[1];return Object(n.useEffect)((function(){fetch("/api/users/userdatafromid?id="+e.id).then((function(e){return e.json()})).then((function(e){r(i.a.createElement(i.a.Fragment,null,e.user.name)),console.log(s)}))}),[l]),s},j=a(17),O=a.n(j);a(40);function S(e){if(!e)return null;try{var t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(a){return null}}var C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isLoading:!0,error:"",token:"",suggested:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/videos/all").then((function(e){return e.json()})).then((function(t){e.setState({suggested:t.videos})}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"top-bg"},i.a.createElement(E,null),i.a.createElement("button",{style:{opacity:"0%"}}),i.a.createElement("div",{className:"wrapper"},i.a.createElement("div",{style:{backgroundColor:"black",marginTop:"10vh",borderTop:"1px white solid"}},i.a.createElement("h1",{style:{padding:"10px"}},"Recommended")),i.a.createElement("div",{id:"home-recommended"},this.state.suggested?this.state.suggested.slice(0,8).map((function(e,t){return i.a.createElement("div",{className:"recommended-item",key:t},i.a.createElement("center",null,i.a.createElement(h.b,{to:"/video/"+e._id},i.a.createElement("img",{width:"272px",height:"153px",src:"http://138.68.12.208/uploads/"+e.thumbnail,alt:""})),i.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"50% 50%"}},i.a.createElement(h.b,{style:{textDecoration:"none",color:"white"},to:"/video/"+e._id},i.a.createElement("p",null,e.title)),i.a.createElement(h.b,{style:{textDecoration:"none",color:"gray"},to:"/video/"+e._id},i.a.createElement("p",null,i.a.createElement(y,{id:e.creator}))))))})):null)),i.a.createElement(g,null)))}}]),t}(n.Component),w=C;C.contextType=b;a(41);function x(e,t){fetch("/api/users/userdata?token="+e).then((function(e){return e.json()})).then((function(e){return t(e)}))}var N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={register:a.props.register,name:"",email:"",password:""},a.linkOnClick=a.linkOnClick.bind(Object(m.a)(a)),a.onName=a.onName.bind(Object(m.a)(a)),a.onEmail=a.onEmail.bind(Object(m.a)(a)),a.onPassword=a.onPassword.bind(Object(m.a)(a)),a.onRegister=a.onRegister.bind(Object(m.a)(a)),a.onSignIn=a.onSignIn.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onName",value:function(e){this.setState({name:e.target.value})}},{key:"onEmail",value:function(e){this.setState({email:e.target.value})}},{key:"onPassword",value:function(e){this.setState({password:e.target.value})}},{key:"onRegister",value:function(){var e=this,t=this.state,a=t.name,n=t.email,i=t.password;fetch("/api/users/register",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({name:a,email:n,password:i})}).then((function(e){return e.json()})).then((function(t){t.success?e.setState({register:!1,email:"",name:"",password:""}):console.log("Error")}))}},{key:"onSignIn",value:function(){var e=this,t=this.state,a=t.email,n=t.password;fetch("/api/users/signin",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({email:a,password:n})}).then((function(e){return e.json()})).then((function(t){t.success?(!function(e,t){e||console.log("Error: Key is missing");try{localStorage.setItem(e,JSON.stringify(t))}catch(a){console.log(a)}}("eee_err",{token:t.token}),e.setState({email:"",password:""}),e.context.changeToken(t.token),x(t.token,(function(a){a.message?console.log("error"):(e.context.setUserData(a),e.props.changeToken(t.token))}))):console.log(t.message)}))}},{key:"linkOnClick",value:function(){this.setState({register:!this.state.register})}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.email,n=e.password;return i.a.createElement("div",null,i.a.createElement("div",{className:"top-bg"},i.a.createElement(E,null),i.a.createElement("div",{className:"wrapper-register"},i.a.createElement("div",{id:"recommended"},this.state.register?i.a.createElement("div",{className:"recommended-item"},i.a.createElement("center",null,i.a.createElement("input",{type:"text",className:"title-input",name:"name",placeholder:"Name",value:t,onChange:this.onName}))):null,i.a.createElement("div",{className:"recommended-item"},i.a.createElement("center",null,i.a.createElement("input",{type:"email",className:"title-input",name:"email",placeholder:"Email",value:a,onChange:this.onEmail}))),i.a.createElement("div",{className:"recommended-item"},i.a.createElement("center",null,i.a.createElement("input",{type:"password",className:"title-input",name:"password",placeholder:"Password",value:n,onChange:this.onPassword}))),i.a.createElement("div",{className:"recommended-item"},i.a.createElement("center",null,this.state.register?i.a.createElement("button",{onClick:this.onRegister},"Create Account"):i.a.createElement("button",{onClick:this.onSignIn},"Sign In"))),i.a.createElement("div",{className:"recommended-item"},i.a.createElement("center",null,i.a.createElement("button",{onClick:this.linkOnClick,style:{textDecoration:"underline"}},this.state.register?"I already have an account":"I don't have an account"))))),i.a.createElement(g,null)))}}]),t}(n.Component),T=N;N.contextType=b;a(42);var D=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={username:a.props.match.params.username,userdata:{},profiledata:{_id:"",name:"",email:"",subscribers:[],videos:[]},subscribed:!1,redirect:!1},a.logout=a.logout.bind(Object(m.a)(a)),a.subscribe=a.subscribe.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({username:e.match.params.username}),fetch("/api/users/userdatafromname?name="+decodeURI(e.match.params.username)).then((function(e){return e.json()})).then((function(e){e.success?(console.log(e.user),t.setState({profiledata:e.user,userdata:t.context.state.userData}),t.state.profiledata.subscribers.forEach((function(e){console.log(e,t.state.userdata._id),e===t.state.userdata._id&&t.setState({subscribed:!0})}))):console.log(e.message)}))}},{key:"componentDidMount",value:function(){var e=this;console.log(this.context.state.userData),fetch("/api/users/userdatafromname?name="+decodeURI(this.state.username)).then((function(e){return e.json()})).then((function(t){t.success?(console.log(t.user),e.setState({profiledata:t.user,userdata:e.context.state.userData}),e.state.profiledata.subscribers.forEach((function(t){console.log(t,e.state.userdata._id),t===e.state.userdata._id&&e.setState({subscribed:!0})}))):console.log(t.message)}))}},{key:"subscribe",value:function(){var e=this,t=this.state.userdata._id,a=this.state.profiledata.name;fetch("/api/users/subscribe",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({name:a,userid1:t})}).then((function(e){return e.json()})).then((function(a){if(a.success){var n=e.state.profiledata;n.subscribers.push(t);e.setState({subscribed:!0,profiledata:n})}else console.log("Error")}))}},{key:"logout",value:function(){var e=this,t=S("eee_err");t&&t.token?fetch("/api/users/logout?token="+t.token).then((function(e){return e.json()})).then((function(t){t.success?(e.props.setParentToken(""),e.context.changeToken(""),e.context.setUserData({})):console.log(t.message)})):console.log("error")}},{key:"render",value:function(){var e=this.state.username;return console.log(this.state),this.state.redirect?i.a.createElement(p.a,{to:"/auth"}):i.a.createElement("div",null,i.a.createElement("div",{className:"top-bg"},i.a.createElement(E,null),i.a.createElement("div",{id:"profile"},i.a.createElement("div",{className:"profile-section section0"},i.a.createElement("hr",{width:"1",size:"1%",style:{opacity:"100%"}}),i.a.createElement("h1",null,this.state.profiledata.name),i.a.createElement("hr",{width:"1",size:"1%"}),i.a.createElement("p",null,"Videos: ",this.state.profiledata.videos.length),i.a.createElement("hr",{width:"1",size:"1%"}),i.a.createElement("p",null,"Subscribers: ",this.state.profiledata.subscribers.length),i.a.createElement("hr",{width:"1",size:"1%"}),this.state.subscribed?i.a.createElement("p",null,"Subscribed"):i.a.createElement("button",{onClick:this.subscribe,className:"subscribe-btn"},"Subscribe"),i.a.createElement("hr",{width:"1",size:"1%",style:{opacity:"100%"}})),this.state.userdata.name===e?i.a.createElement("button",{style:{margin:"5px"},onClick:this.logout},"Logout"):null,i.a.createElement("div",{className:"profile-section section2",style:{minHeight:"55vh"}},this.state.profiledata.videos.length<4?i.a.createElement("h1",null,"This account has less than 4 videos."):i.a.createElement("div",{id:"recommended-profile"},this.state.profiledata.videos?this.state.profiledata.videos.slice(0,6).map((function(e,t){return i.a.createElement(_,{key:t,id:e})})):null))),i.a.createElement(g,null)))}}]),t}(n.Component),_=function(e){var t=Object(n.useState)(e.id),a=Object(k.a)(t,2),s=a[0],r=(a[1],Object(n.useState)({})),o=Object(k.a)(r,2),c=o[0],l=o[1],u=Object(n.useState)(i.a.createElement(i.a.Fragment,null)),m=Object(k.a)(u,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){console.log("hi"),fetch("/api/videos/one?id="+s).then((function(e){return e.json()})).then((function(t){t.success?(console.log(t),l(t.video),console.log(c),p(i.a.createElement("div",{className:"recommended-item",key:e.key},i.a.createElement("center",null,i.a.createElement(h.b,{to:"/video/"+t.video._id},i.a.createElement("img",{width:"272px",height:"153px",src:"http://138.68.12.208/uploads/"+t.video.thumbnail,alt:""})),i.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"50% 50%"}},i.a.createElement(h.b,{style:{textDecoration:"none",color:"white"},to:"/video/"+t.video._id},i.a.createElement("p",null,t.video.title)),i.a.createElement(h.b,{style:{textDecoration:"none",color:"gray"},to:"/video/"+t.video._id},i.a.createElement("p",null,i.a.createElement(y,{id:t.video.creator}))))))),console.log(d)):p(i.a.createElement(i.a.Fragment,null,"Error"))}))}),[s]),d},P=D;D.contextType=b;var A=a(20),R=a.n(A),I=a(26),B=(a(44),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={userdata:{},phase1:!0,file1:"",filename1:"Choose Video",file2:"",filename2:"Choose Thumbnail",title:"",description:"",creator:"",vidid:"",uploading:!1},a.onChange1=a.onChange1.bind(Object(m.a)(a)),a.onChange2=a.onChange2.bind(Object(m.a)(a)),a.onTitle=a.onTitle.bind(Object(m.a)(a)),a.onDescription=a.onDescription.bind(Object(m.a)(a)),a.onButton1=a.onButton1.bind(Object(m.a)(a)),a.onButton2=a.onButton2.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({userdata:this.context.state.userData,creator:this.context.state.userData._id})}},{key:"onChange1",value:function(e){this.setState({file1:e.target.files[0],filename1:e.target.files[0].name})}},{key:"onChange2",value:function(e){this.setState({file2:e.target.files[0],filename2:e.target.files[0].name})}},{key:"onTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onButton1",value:function(e){e.preventDefault(),this.setState({phase1:!1})}},{key:"onButton2",value:function(){var e=Object(I.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),this.setState({uploading:!0}),(a=new FormData).append("file1",this.state.file1),a.append("file2",this.state.file2),a.append("title",this.state.title),a.append("description",this.state.description),a.append("creator",this.state.creator),e.prev=8,e.next=11,fetch("/api/videos/upload",{method:"POST",headers:{"Access-Control-Allow-Origin":"*"},body:a});case 11:e.sent,this.setState({file1:"",filename1:"Choose Video",file2:"",filename2:"Choose Thumbnail",title:"",description:"",vidid:"",phase1:!0,uploading:!1}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),console.log(e.t0);case 18:case"end":return e.stop()}}),e,this,[[8,15]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"top-bg"},i.a.createElement(E,null),i.a.createElement("div",null,this.state.phase1?i.a.createElement("div",{id:"recommended-upload"},i.a.createElement("div",{className:"recommended-item"},i.a.createElement("center",null,i.a.createElement("label",{htmlFor:"vid-upload",className:"choose-vid"},i.a.createElement("i",null),this.state.filename1),i.a.createElement("input",{id:"vid-upload",name:"vid",type:"file",onChange:this.onChange1}))),i.a.createElement("div",{className:"recommended-item"},i.a.createElement("center",null,i.a.createElement("input",{type:"text",id:"title-input",name:"title",placeholder:"Title",onChange:this.onTitle}))),i.a.createElement("div",{className:"recommended-item"},i.a.createElement("center",null,i.a.createElement("label",{htmlFor:"description-input"},"Description"),i.a.createElement("textarea",{onChange:this.onDescription,name:"description",id:"description-input",cols:"170",rows:"10"}))),i.a.createElement("div",{className:"recommended-item"},i.a.createElement("center",null,i.a.createElement("button",{onClick:this.onButton1,style:{width:"10%"}}," Next ")))):i.a.createElement("div",{id:"recommended-upload"},i.a.createElement("div",{className:"recommended-item"},i.a.createElement("center",null,i.a.createElement("label",{htmlFor:"thumbnail-upload",className:"choose-pic"},i.a.createElement("i",null),this.state.filename2),i.a.createElement("input",{onChange:this.onChange2,id:"thumbnail-upload",name:"pic",type:"file"}))),i.a.createElement("div",{className:"recommended-item"},i.a.createElement("center",null,i.a.createElement("button",{onClick:this.onButton2,style:{width:"10%"}},"Upload Video"),this.state.uploading?i.a.createElement("p",null,"Uploading..."):null)))),i.a.createElement(g,null)))}}]),t}(n.Component)),F=B;B.contextType=b;a(45);var L=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={id:a.props.match.params.id,video:{likes:[],comments:[]},userdata:{},creatordata:{},liked:!1,subscribed:!1,suggested:[],comment:""},a.subscribe=a.subscribe.bind(Object(m.a)(a)),a.like=a.like.bind(Object(m.a)(a)),a.onComment=a.onComment.bind(Object(m.a)(a)),a.submitComment=a.submitComment.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;this.setState({id:e.match.params.id}),fetch("/api/videos/one?id="+e.match.params.id).then((function(e){return e.json()})).then((function(e){e.success&&fetch("/api/users/userdatafromid?id="+e.video.creator).then((function(e){return e.json()})).then((function(a){t.setState({video:e.video,userdata:t.context.state.userData,creatordata:a.user,liked:!1,subscribed:!1}),t.state.creatordata.subscribers.forEach((function(e){e===t.state.userdata._id&&t.setState({subscribed:!0})})),t.state.video.likes.forEach((function(e){e===t.state.userdata._id&&t.setState({liked:!0})})),fetch("/api/videos/all").then((function(e){return e.json()})).then((function(e){t.setState({suggested:e.videos})}))}))}))}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/videos/one?id="+this.state.id).then((function(e){return e.json()})).then((function(t){t.success&&fetch("/api/users/userdatafromid?id="+t.video.creator).then((function(e){return e.json()})).then((function(a){e.setState({video:t.video,userdata:e.context.state.userData,creatordata:a.user}),e.state.creatordata.subscribers.forEach((function(t){t===e.state.userdata._id&&e.setState({subscribed:!0})})),e.state.video.likes.forEach((function(t){t===e.state.userdata._id&&e.setState({liked:!0})})),fetch("/api/videos/all").then((function(e){return e.json()})).then((function(t){e.setState({suggested:t.videos})}))}))}))}},{key:"like",value:function(){var e=this,t=this.state.userdata._id,a=this.state.video._id;fetch("/api/videos/like",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({videoid:a,userid:t})}).then((function(e){return e.json()})).then((function(a){if(a.success){var n=e.state.video;n.likes.push(t);e.setState({liked:!0,video:n})}else console.log("Error")}))}},{key:"subscribe",value:function(){var e=this,t=this.state.userdata._id,a=this.state.creatordata.name;fetch("/api/users/subscribe",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({name:a,userid1:t})}).then((function(e){return e.json()})).then((function(a){if(a.success){var n=e.state.creatordata;n.subscribers.push(t);e.setState({subscribed:!0,creatordata:n})}else console.log("Error")}))}},{key:"onComment",value:function(e){this.setState({comment:e.target.value})}},{key:"submitComment",value:function(){var e=this,t=this.state.userdata._id,a=this.state.video._id,n=this.state.comment;fetch("/api/comments/comment",{method:"POST",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},body:JSON.stringify({videoid:a,creatorid:t,content:n})}).then((function(e){return e.json()})).then((function(t){if(t.success){var a=e.state.video;a.comments.push(t.comment);e.setState({comment:"",video:a})}else console.log("Error")}))}},{key:"render",value:function(){var e="http://138.68.12.208/uploads/"+this.state.video.vid,t="";return this.state.video.uploaded&&(t=(t=(t=this.state.video.uploaded).split("T")[0].split("-"))[1]+"/"+t[2]+"/"+t[0]),i.a.createElement("div",null,i.a.createElement("div",{className:"top-bg"},i.a.createElement(E,null),i.a.createElement("div",null,i.a.createElement("div",{id:"recommended-video"},i.a.createElement("div",{id:"vid",className:"recommended-item"},i.a.createElement("center",null,i.a.createElement("video",{width:"720",height:"480",src:e,controls:!0,id:"noContextMenu"},"Video is not supported in your browser."))),i.a.createElement("div",{id:"suggestions",className:"recommended-item"},this.state.suggested?this.state.suggested.map((function(e,t){return i.a.createElement(h.b,{key:t,style:{textDecoration:"none",color:"white"},to:"/video/"+e._id},i.a.createElement("div",{className:"suggested-item"},i.a.createElement("img",{src:"http://138.68.12.208/uploads/"+e.thumbnail,width:"168",height:"94",style:{gridRowStart:"1",gridRowEnd:"3"}}),i.a.createElement("p",null,e.title),i.a.createElement("p",{style:{color:"gray"}},"By: ",i.a.createElement(y,{id:e.creator})," ")))})):null),i.a.createElement("div",{id:"description",className:"recommended-item"},i.a.createElement("h2",null,this.state.video.title),i.a.createElement("h3",null,"Uploaded: ",t),i.a.createElement(h.b,{to:"/profile/"+this.state.creatordata.name,style:{textDecoration:"none",color:"inherit"}},i.a.createElement("h3",{className:"profile-link"},"By: ",this.state.creatordata.name)),this.state.subscribed?"Subscribed":i.a.createElement("button",{onClick:this.subscribe,className:"subscribe-btn"},"Subscribe"),i.a.createElement("div",null,i.a.createElement("h3",null,this.state.video.likes.length,this.state.video.likes.length>1||0===this.state.video.likes.length?" Likes":" Like"),this.state.liked?i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"Video Liked")):i.a.createElement("button",{onClick:this.like,className:"subscribe-btn"},"Like")),i.a.createElement("h3",null,"Description: ",this.state.video.description)),i.a.createElement("div",{id:"comments",className:"recommended-item"},this.state.video.comments?this.state.video.comments.map((function(e,t){var a=e.written;return a=(a=a.split("T")[0].split("-"))[1]+"/"+a[2]+"/"+a[0],i.a.createElement("div",{key:t,className:"comment"},i.a.createElement("p",null,i.a.createElement(h.b,{style:{textDecoration:"none",color:"gray"},to:"/profile/"+e.username},i.a.createElement("span",{style:{color:"gray"}},e.username))," | ",i.a.createElement("span",{style:{color:"gray"}},a)),i.a.createElement("h4",null,e.content))})):null,i.a.createElement("div",{className:"comment",style:{textAlign:"center"}},i.a.createElement("textarea",{onChange:this.onComment,value:this.state.comment,name:"",id:"",cols:"98",rows:"10"}),i.a.createElement("br",null),i.a.createElement("button",{onClick:this.submitComment,className:"subscribe-btn"},"Comment"))))),i.a.createElement(g,null)))}}]),t}(n.Component),J=L;L.contextType=b;a(46);var U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={query:a.props.match.params.query,videos:null},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=this;fetch("/api/videos/search?q="+e.match.params.query).then((function(e){return e.json()})).then((function(e){t.setState({videos:e.videos})}))}},{key:"componentDidMount",value:function(){var e=this;fetch("/api/videos/search?q="+this.state.query).then((function(e){return e.json()})).then((function(t){e.setState({videos:t.videos})}))}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"top-bg"},i.a.createElement(E,null),i.a.createElement("div",{id:"recommended-search"},this.state.videos?this.state.videos.map((function(e,t){return i.a.createElement("div",{className:"recommended-item",key:t},i.a.createElement("center",null,i.a.createElement(h.b,{to:"/video/"+e._id},i.a.createElement("img",{width:"272px",height:"153px",src:"http://138.68.12.208/uploads/"+e.thumbnail,alt:""})),i.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"50% 50%"}},i.a.createElement(h.b,{style:{textDecoration:"none",color:"white"},to:"/video/"+e._id},i.a.createElement("p",null,e.title)),i.a.createElement(h.b,{style:{textDecoration:"none",color:"gray"},to:"/video/"+e._id},i.a.createElement("p",null,i.a.createElement(y,{id:e.creator}))))))})):null),i.a.createElement(g,null)))}}]),t}(n.Component),M=U;U.contextType=b;a(47);var q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={isLoading:!0,error:"",token:a.props.token},a.setParentToken=a.setParentToken.bind(Object(m.a)(a)),a.func1=a.func1.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"setParentToken",value:function(e){this.setState({token:e})}},{key:"componentDidMount",value:function(){var e=this,t=S("eee_err");t&&t.token?fetch("/api/users/verify?token="+t.token).then((function(e){return e.json()})).then((function(a){a.success?(e.context.changeToken(t.token),x(t.token,(function(a){a.message?console.log(a.message):(e.context.setUserData(a),e.setState({token:t.token,isLoading:!1}))}))):e.setState({isLoading:!1})})):this.setState({isLoading:!1})}},{key:"func1",value:function(){return window.history.back(),null}},{key:"render",value:function(){var e=this,t={backgroundImage:"url(".concat(O.a,")"),margin:"0",backgroundRepeat:"repeat",minHeight:"100vh",backgroundSize:"cover"};return this.state.isLoading?i.a.createElement("div",null,i.a.createElement("p",null,"loading...")):i.a.createElement(h.a,null,i.a.createElement("div",{className:"wrapper",style:t},i.a.createElement(p.d,null,i.a.createElement(p.b,{path:"/",exact:!0,strict:!0,render:function(){return i.a.createElement(i.a.Fragment,null,""!==e.state.token?i.a.createElement(b.Consumer,null,(function(t){return i.a.createElement(w,{setParentToken:e.setParentToken,token:t.state.token})})):i.a.createElement(p.a,{to:"/auth"}))}}),i.a.createElement(p.b,{path:"/auth",exact:!0,strict:!0,render:function(){return i.a.createElement(i.a.Fragment,null,""===e.state.token?i.a.createElement(T,{changeToken:function(t){return e.setState({token:t})},register:!1}):i.a.createElement(p.a,{to:"/"}))}}),i.a.createElement(p.b,{path:"/profile/:username",exact:!0,strict:!0,component:function(t){return""!==e.state.token?i.a.createElement(P,Object.assign({setParentToken:e.setParentToken},t)):i.a.createElement(p.a,{to:"/auth"})}}),i.a.createElement(p.b,{path:"/upload",exact:!0,strict:!0,render:function(){return i.a.createElement(i.a.Fragment,null,""!==e.state.token?i.a.createElement(F,null):i.a.createElement(p.a,{to:"/auth"}))}}),i.a.createElement(p.b,{path:"/video/:id",exact:!0,strict:!0,component:function(t){return""!==e.state.token?i.a.createElement(J,t):i.a.createElement(p.a,{to:"/auth"})}}),i.a.createElement(p.b,{path:"/search/:query",exact:!0,strict:!0,component:function(t){return""!==e.state.token?i.a.createElement(M,t):i.a.createElement(p.a,{to:"/auth"})}}))))}}]),t}(n.Component),z=q;q.contextType=b;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=i.a.createElement(v,null,i.a.createElement(b.Consumer,null,(function(e){return i.a.createElement(z,{token:e.state.token})})));r.a.render(V,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[27,1,2]]]);
//# sourceMappingURL=main.0877d373.chunk.js.map